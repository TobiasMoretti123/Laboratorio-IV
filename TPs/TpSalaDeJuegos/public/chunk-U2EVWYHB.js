import{$ as R,V as F,ka as J,la as U,ma as $}from"./chunk-5LNGFYFJ.js";import{b as D,c as z,g as w,h as N,j as v}from"./chunk-TERAQOSY.js";import"./chunk-WXI33M2S.js";import{k as j,l as B,r as I}from"./chunk-MZ2EVUCB.js";import{Gb as s,Hb as T,Ib as x,Ma as k,Pa as c,Qa as m,ba as _,ca as f,eb as g,ga as y,gb as p,lb as a,ma as S,mb as n,na as h,nb as O,ob as E,pb as P,wb as u,yb as b}from"./chunk-EPM2LCS5.js";var C=(()=>{let t=class t{constructor(i){this.http=i,this.apiUrl="https://deckofcardsapi.com/api/deck"}ObtenerUnNuevoMazo(){return this.http.get(`${this.apiUrl}/new/shuffle`)}ObtenerCartas(i,r){return this.http.get(`${this.apiUrl}/${i}/draw/?count=${r}`)}};t.\u0275fac=function(r){return new(r||t)(y(D))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function V(e,t){if(e&1&&(a(0,"div",16),s(1),n()),e&2){let d=b();c(),T(d.auth.currentUser==null?null:d.auth.currentUser.email)}}function q(e,t){if(e&1&&(E(0),O(1,"img",18),P()),e&2){let d=b().$implicit;c(),p("src",d.image,k)}}function Q(e,t){if(e&1&&(a(0,"div"),g(1,q,2,1,"ng-container",17),n()),e&2){let d=t.index,i=b();c(),p("ngIf",d===0||d===1&&i.mostrarSegundaCarta)}}var A=(()=>{let t=class t{constructor(i,r,o,l){this.servicio=i,this.router=r,this.snackBar=o,this.auth=l,this.idMazo="",this.cartas=[],this.valorDeCartas=[],this.intentos=10,this.puntos=0,this.desabilitarBotones=!1,this.mostrarSegundaCarta=!1,this.mostrarTooltip=!1,this.blockearRejugar=!0}ngOnInit(){this.servicio.ObtenerUnNuevoMazo().subscribe(i=>{this.idMazo=i.deck_id,this.SacarCartas()})}SacarCartas(){this.servicio.ObtenerCartas(this.idMazo,2).subscribe(i=>{this.cartas=i.cards})}EsMayor(){this.valorDeCartas=[],this.desabilitarBotones=!0,this.cartas.forEach(r=>{this.valorDeCartas.push(r.value)}),this.valorDeCartas[1]>=this.valorDeCartas[0]?(this.puntos++,this.intentos--,this.mostrarSegundaCarta=!0):(this.mostrarSegundaCarta=!0,this.intentos--);let i=this.cartas[0];this.cartas[0]=this.cartas[1],this.cartas[1]=i,this.EstadoDelJuego(),setTimeout(()=>{this.mostrarSegundaCarta=!1,this.SacarNuevaCarta(),this.desabilitarBotones=!1,this.intentos==0&&(this.desabilitarBotones=!0)},2e3)}EsMenor(){this.valorDeCartas=[],this.desabilitarBotones=!0,this.cartas.forEach(r=>{this.valorDeCartas.push(r.value)}),this.valorDeCartas[1]<=this.valorDeCartas[0]?(this.puntos++,this.intentos--,this.mostrarSegundaCarta=!0):(this.mostrarSegundaCarta=!0,this.intentos--);let i=this.cartas[0];this.cartas[0]=this.cartas[1],this.cartas[1]=i,this.EstadoDelJuego(),setTimeout(()=>{this.mostrarSegundaCarta=!1,this.SacarNuevaCarta(),this.desabilitarBotones=!1,this.intentos==0&&(this.desabilitarBotones=!0)},2e3)}SacarNuevaCarta(){this.servicio.ObtenerCartas(this.idMazo,1).subscribe(i=>{this.cartas[1]=i.cards[0]})}EstadoDelJuego(){this.intentos==0&&(this.blockearRejugar=!1,this.AbrirSnackBar(`Obtuviste ${this.puntos} Puntos`))}Volver(){this.RuteoHome()}RuteoHome(){this.router.navigate(["/home"])}AbrirSnackBar(i){this.snackBar.open(i,"Cerrar",{duration:4e3})}mostrarTexto(){this.mostrarTooltip=!0}ocultarTexto(){this.mostrarTooltip=!1}CerrarSession(){R(this.auth),this.RuteoHome(),this.AbrirSnackBar("Se a cerrado la sesion")}JugarDeNuevo(){this.intentos=10,this.puntos=0,this.desabilitarBotones=!1,this.blockearRejugar=!0}};t.\u0275fac=function(r){return new(r||t)(m(C),m(w),m($),m(F))},t.\u0275cmp=S({type:t,selectors:[["app-mayor-menor"]],decls:29,vars:7,consts:[[1,"button-grid"],["mat-raised-button","",3,"click"],["mat-raised-button","","routerLink","/chat"],["mat-raised-button","","routerLink","/quien-soy"],["mat-raised-button","","color","warn",3,"click"],[1,"material-icons",3,"mouseover","mouseleave"],["class","tooltip",4,"ngIf"],[1,"container"],[1,"cards"],[4,"ngFor","ngForOf"],[1,"botones"],["mat-raised-button","","color","accent",3,"click","disabled"],[1,"estadoDeJuego"],[1,"texto","puntos"],[1,"texto","vidas"],["mat-raised-button","","color","primary",1,"rejugar",3,"click","disabled"],[1,"tooltip"],[4,"ngIf"],["alt","Card",1,"imagenCarta",3,"src"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"button",1),u("click",function(){return o.Volver()}),s(2,"Volver"),n(),a(3,"button",2),s(4,"Chat"),n(),a(5,"button",3),s(6,"Sobre M\xED"),n(),a(7,"button",4),u("click",function(){return o.CerrarSession()}),s(8,"Cerrar Sesi\xF3n"),n(),a(9,"i",5),u("mouseover",function(){return o.mostrarTexto()})("mouseleave",function(){return o.ocultarTexto()}),s(10,"account_circle"),n(),g(11,V,2,1,"div",6),n(),a(12,"div",7)(13,"h1"),s(14,"La Siguiente Carta es Mayor o Menor?"),n(),a(15,"div",8),g(16,Q,2,1,"div",9),n(),a(17,"div",10)(18,"button",11),u("click",function(){return o.EsMayor()}),s(19,"Es Mayor"),n(),a(20,"button",11),u("click",function(){return o.EsMenor()}),s(21,"Es Menor"),n()(),a(22,"div",12)(23,"p",13),s(24),n(),a(25,"p",14),s(26),n()(),a(27,"button",15),u("click",function(){return o.JugarDeNuevo()}),s(28,"Volver a Jugar"),n()()),r&2&&(c(11),p("ngIf",o.mostrarTooltip),c(5),p("ngForOf",o.cartas),c(2),p("disabled",o.desabilitarBotones),c(2),p("disabled",o.desabilitarBotones),c(4),x("Puntos: ",o.puntos,""),c(2),x("Intentos: ",o.intentos,""),c(),p("disabled",o.blockearRejugar))},dependencies:[j,B,N,J],styles:['.button-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background-image:url("./media/grid-TFSRBOBQ.png");padding:10px;display:flex;justify-content:flex-end}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;margin-bottom:10px;padding:20px 30px;font-size:20px}.container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#ffffff80;padding:10px;border-radius:10px;text-align:center}.content[_ngcontent-%COMP%]{padding-top:50px}.material-icons[_ngcontent-%COMP%]{margin-left:10px;margin-top:2px;font-size:40px}.cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.imagenCarta[_ngcontent-%COMP%]{width:250px;height:auto}.cards[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px;margin-top:10px}.botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 70px;padding:20px 30px;font-size:20px}.texto[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;padding:10px;border-radius:5px}.puntos[_ngcontent-%COMP%]{color:#fff;background-color:#0000ff80;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.estadoDelJuego[_ngcontent-%COMP%]{width:100%}.vidas[_ngcontent-%COMP%]{color:#fff;background-color:#ff000080;border-radius:20px;padding:10px 20px;font-size:18px;text-align:left}.tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#000c;color:#fff;padding:5px;border-radius:3px;z-index:9999}.rejugar[_ngcontent-%COMP%]{display:block;padding:20px 30px;font-size:20px;border:none;border-radius:5px;cursor:pointer;text-align:center;line-height:0}']});let e=t;return e})();var G=[{path:"",component:A}],H=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[v.forChild(G),v]});let e=t;return e})();var mt=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({providers:[C],imports:[I,H,z,U]});let e=t;return e})();export{mt as MayorMenorModule};
