import{$ as W,A as oo,Aa as We,B as Cr,Ca as Oe,D as Te,Da as Eo,E as Ve,Ea as wo,F as He,Fa as pn,G as _r,Ga as R,H as ze,Ha as Io,I as ao,Ia as Nr,J as ln,K as fe,Ka as Mr,L as Sr,La as Co,M as uo,Ma as Fr,N as co,Na as _o,O as lo,P as j,Pa as So,Q as ho,R as T,S as A,U as E,Ua as Ao,V as Q,W as fo,Wa as bo,X as S,Y as Ar,Z as D,_ as g,a as p,aa as po,b,ba as ft,c as be,ca as pt,d as l,da as go,db as To,e as eo,ea as ee,eb as mt,f as to,fa as dn,fb as Ro,g as mr,ga as br,gb as gn,h as vr,hb as Lr,i as yr,ia as mo,ib as Ur,j as de,ja as gt,jb as xr,k as $,ka as pe,kb as $r,l as no,la as hn,lb as mn,m as ro,mb as vt,n as he,nb as Oo,o as Dr,oa as Tr,ob as yt,p as Er,pa as Rr,pb as Po,q as wr,qa as ge,r as M,ra as Or,s as v,sa as fn,t as ht,ta as Re,u as io,ua as vo,v as so,va as Pr,w as _,wa as yo,x as cn,xa as te,y as F,ya as kr,z as Ir,za as Do}from"./chunk-T3SVGVHJ.js";var Mo=null;function Ge(){return Mo}function Fo(t){Mo??=t}var vn=class{};var k=new S(""),Vr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(fc),providedIn:"platform"});let t=e;return t})(),Lo=new S(""),fc=(()=>{let e=class e extends Vr{constructor(){super(),this._doc=g(k),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ge().getBaseHref(this._doc)}onPopState(r){let i=Ge().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ge().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Hr(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ko(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ne(t){return t&&t[0]!=="?"?"?"+t:t}var re=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(zr),providedIn:"root"});let t=e;return t})(),Uo=new S(""),zr=(()=>{let e=class e extends re{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(k).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Hr(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ne(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ne(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(Vr),D(Uo,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xo=(()=>{let e=class e extends re{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Hr(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ne(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ne(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(D(Vr),D(Uo,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),qe=(()=>{let e=class e{constructor(r){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=mc(ko(No(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ne(i))}normalize(r){return e.stripTrailingSlash(gc(this._basePath,No(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ne,e.joinWithSlash=Hr,e.stripTrailingSlash=ko,e.\u0275fac=function(i){return new(i||e)(D(re))},e.\u0275prov=E({token:e,factory:()=>pc(),providedIn:"root"});let t=e;return t})();function pc(){return new qe(D(re))}function gc(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function No(t){return t.replace(/\/index.html$/,"")}function mc(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function $o(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var vc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ee({type:e}),e.\u0275inj=Q({});let t=e;return t})(),Wr="browser",yc="server";function Dc(t){return t===Wr}function Gr(t){return t===yc}var Bo=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>Dc(g(te))?new Br(g(k),window):new jr});let t=e;return t})(),Br=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Ec(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Ec(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var jr=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},yn=class{};var Yr=class extends vn{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zr=class t extends Yr{static makeCurrent(){Fo(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Cc();return n==null?null:_c(n)}resetBaseElement(){Et=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $o(document.cookie,e)}},Et=null;function Cc(){return Et=Et||document.querySelector("base"),Et?Et.getAttribute("href"):null}function _c(t){return new URL(t,document.baseURI).pathname}var Sc=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Jr=new S(""),zo=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(D(Jr),D(R))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Dn=class{constructor(e){this._doc=e}},qr="ng-app-id",Wo=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gr(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${qr}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(qr),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(qr,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(D(k),D(Pr),D(kr,8),D(te))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Kr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qr=/%COMP%/g,Go="%COMP%",Ac=`_nghost-${Go}`,bc=`_ngcontent-${Go}`,Tc=!0,Rc=new S("",{providedIn:"root",factory:()=>Tc});function Oc(t){return bc.replace(Qr,t)}function Pc(t){return Ac.replace(Qr,t)}function qo(t,e){return e.map(n=>n.replace(Qr,t))}var jo=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Gr(u),this.defaultRenderer=new wt(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ft.ShadowDom&&(i=b(p({},i),{encapsulation:ft.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof En?s.applyToHost(r):s instanceof It&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ft.Emulated:o=new En(c,d,i,this.appId,h,a,u,f);break;case ft.ShadowDom:return new Xr(c,d,r,i,a,u,this.nonce,f);default:o=new It(c,d,i,h,a,u,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(D(zo),D(Wo),D(Pr),D(Rc),D(k),D(te),D(R),D(kr))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),wt=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Kr[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Vo(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Vo(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Kr[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kr[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(We.DashCase|We.Important)?e.style.setProperty(n,r,i&We.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&We.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ge().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Vo(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Xr=class extends wt{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=qo(i.id,i.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},It=class extends wt{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?qo(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},En=class extends It{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=Oc(c),this.hostAttr=Pc(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},kc=(()=>{let e=class e extends Dn{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(D(k))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ho=["alt","control","meta","shift"],Nc={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Fc=(()=>{let e=class e extends Dn{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ge().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Ho.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Nc[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Ho.forEach(a=>{if(a!==s){let u=Mc[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(D(k))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function ev(t,e){return Oo(p({rootComponent:t},Lc(e)))}function Lc(t){return{appProviders:[...jc,...t?.providers??[]],platformProviders:Bc}}function Uc(){Zr.makeCurrent()}function xc(){return new Or}function $c(){return vo(document),document}var Bc=[{provide:te,useValue:Wr},{provide:yo,useValue:Uc,multi:!0},{provide:k,useFactory:$c,deps:[]}];var jc=[{provide:mo,useValue:"root"},{provide:Or,useFactory:xc,deps:[]},{provide:Jr,useClass:kc,multi:!0,deps:[k,R,te]},{provide:Jr,useClass:Fc,multi:!0,deps:[k]},jo,Wo,zo,{provide:wo,useExisting:jo},{provide:yn,useClass:Sc,deps:[]},[]];var Ko=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(D(k))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y="primary",xt=Symbol("RouteTitle"),ii=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xe(t){return new ii(t)}function Hc(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zc(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!G(t[n],e[n]))return!1;return!0}function G(t,e){let n=t?si(t):void 0,r=e?si(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ra(t[i],e[i]))return!1;return!0}function si(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ra(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ia(t){return t.length>0?t[t.length-1]:null}function Ee(t){return io(t)?t:Lr(t)?M(Promise.resolve(t)):v(t)}var Wc={exact:oa,subset:aa},sa={exact:Gc,subset:qc,ignored:()=>!0};function Yo(t,e,n){return Wc[n.paths](t.root,e.root,n.matrixParams)&&sa[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Gc(t,e){return G(t,e)}function oa(t,e,n){if(!ke(t.segments,e.segments)||!Cn(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!oa(t.children[r],e.children[r],n))return!1;return!0}function qc(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ra(t[n],e[n]))}function aa(t,e,n){return ua(t,e,e.segments,n)}function ua(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ke(i,n)||e.hasChildren()||!Cn(i,n,r))}else if(t.segments.length===n.length){if(!ke(t.segments,n)||!Cn(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!aa(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ke(t.segments,i)||!Cn(t.segments,i,r)||!t.children[y]?!1:ua(t.children[y],e,s,r)}}function Cn(t,e,n){return e.every((r,i)=>sa[n](t[i].parameters,r.parameters))}var me=class{constructor(e=new I([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return Zc.serialize(this)}},I=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _n(this)}},Pe=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xe(this.parameters),this._parameterMap}toString(){return la(this)}};function Kc(t,e){return ke(t,e)&&t.every((n,r)=>G(n.parameters,e[r].parameters))}function ke(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Yc(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===y&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==y&&(n=n.concat(e(i,r)))}),n}var $t=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new Rt,providedIn:"root"});let t=e;return t})(),Rt=class{parse(e){let n=new ai(e);return new me(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ct(e.root,!0)}`,r=Qc(e.queryParams),i=typeof e.fragment=="string"?`#${Jc(e.fragment)}`:"";return`${n}${r}${i}`}},Zc=new Rt;function _n(t){return t.segments.map(e=>la(e)).join("/")}function Ct(t,e){if(!t.hasChildren())return _n(t);if(e){let n=t.children[y]?Ct(t.children[y],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==y&&r.push(`${i}:${Ct(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Yc(t,(r,i)=>i===y?[Ct(t.children[y],!1)]:[`${i}:${Ct(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[y]!=null?`${_n(t)}/${n[0]}`:`${_n(t)}/(${n.join("//")})`}}function ca(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(t){return ca(t).replace(/%3B/gi,";")}function Jc(t){return encodeURI(t)}function oi(t){return ca(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sn(t){return decodeURIComponent(t)}function Zo(t){return Sn(t.replace(/\+/g,"%20"))}function la(t){return`${oi(t.path)}${Xc(t.parameters)}`}function Xc(t){return Object.entries(t).map(([e,n])=>`;${oi(e)}=${oi(n)}`).join("")}function Qc(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wn(n)}=${wn(i)}`).join("&"):`${wn(n)}=${wn(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var el=/^[^\/()?;#]+/;function ei(t){let e=t.match(el);return e?e[0]:""}var tl=/^[^\/()?;=#]+/;function nl(t){let e=t.match(tl);return e?e[0]:""}var rl=/^[^=?&#]+/;function il(t){let e=t.match(rl);return e?e[0]:""}var sl=/^[^&#]+/;function ol(t){let e=t.match(sl);return e?e[0]:""}var ai=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new I([],{}):new I([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[y]=new I(e,n)),r}parseSegment(){let e=ei(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Pe(Sn(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=nl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ei(this.remaining);i&&(r=i,this.capture(r))}e[Sn(n)]=Sn(r)}parseQueryParam(e){let n=il(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ol(this.remaining);o&&(r=o,this.capture(r))}let i=Zo(n),s=Zo(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ei(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=y);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[y]:new I([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function da(t){return t.segments.length>0?new I([],{[y]:t}):t}function ha(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ha(i);if(r===y&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new I(t.segments,e);return al(n)}function al(t){if(t.numberOfChildren===1&&t.children[y]){let e=t.children[y];return new I(t.segments.concat(e.segments),e.children)}return t}function Qe(t){return t instanceof me}function ul(t,e,n=null,r=null){let i=fa(t);return pa(i,e,n,r)}function fa(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new I(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=da(r);return e??i}function pa(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ti(i,i,i,n,r);let s=cl(e);if(s.toRoot())return ti(i,i,new I([],{}),n,r);let o=ll(s,i,t),a=o.processChildren?At(o.segmentGroup,o.index,s.commands):ma(o.segmentGroup,o.index,s.commands);return ti(i,o.segmentGroup,a,n,r)}function An(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ot(t){return typeof t=="object"&&t!=null&&t.outlets}function ti(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=ga(t,e,n);let a=da(ha(o));return new me(a,s,i)}function ga(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=ga(s,e,n)}),new I(t.segments,r)}var bn=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&An(r[0]))throw new A(4003,!1);let i=r.find(Ot);if(i&&i!==ia(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cl(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bn(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new bn(n,e,r)}var Ze=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ll(t,e,n){if(t.isAbsolute)return new Ze(e,!0,0);if(!n)return new Ze(e,!1,NaN);if(n.parent===null)return new Ze(n,!0,0);let r=An(t.commands[0])?0:1,i=n.segments.length-1+r;return dl(n,i,t.numberOfDoubleDots)}function dl(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Ze(r,!1,i-s)}function hl(t){return Ot(t[0])?t[0].outlets:{[y]:t}}function ma(t,e,n){if(t??=new I([],{}),t.segments.length===0&&t.hasChildren())return At(t,e,n);let r=fl(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new I(t.segments.slice(0,r.pathIndex),{});return s.children[y]=new I(t.segments.slice(r.pathIndex),t.children),At(s,0,i)}else return r.match&&i.length===0?new I(t.segments,{}):r.match&&!t.hasChildren()?ui(t,e,n):r.match?At(t,0,i):ui(t,e,n)}function At(t,e,n){if(n.length===0)return new I(t.segments,{});{let r=hl(n),i={};if(Object.keys(r).some(s=>s!==y)&&t.children[y]&&t.numberOfChildren===1&&t.children[y].segments.length===0){let s=At(t.children[y],e,n);return new I(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ma(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new I(t.segments,i)}}function fl(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ot(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Xo(u,c,o))return s;r+=2}else{if(!Xo(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ui(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ot(s)){let u=pl(s.outlets);return new I(r,u)}if(i===0&&An(n[0])){let u=t.segments[e];r.push(new Pe(u.path,Jo(n[0]))),i++;continue}let o=Ot(s)?s.outlets[y]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&An(a)?(r.push(new Pe(o,Jo(a))),i+=2):(r.push(new Pe(o,{})),i++)}return new I(r,{})}function pl(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ui(new I([],{}),0,r))}),e}function Jo(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Xo(t,e,n){return t==n.path&&G(e,n.parameters)}var bt="imperative",O=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(O||{}),B=class{constructor(e,n){this.id=e,this.url=n}},et=class extends B{constructor(e,n,r="imperative",i=null){super(e,n),this.type=O.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},q=class extends B{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=O.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},U=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(U||{}),Tn=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Tn||{}),ve=class extends B{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=O.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ye=class extends B{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=O.NavigationSkipped}},Pt=class extends B{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=O.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rn=class extends B{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=O.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ci=class extends B{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=O.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},li=class extends B{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=O.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},di=class extends B{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=O.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hi=class extends B{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=O.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fi=class{constructor(e){this.route=e,this.type=O.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pi=class{constructor(e){this.route=e,this.type=O.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gi=class{constructor(e){this.snapshot=e,this.type=O.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mi=class{constructor(e){this.snapshot=e,this.type=O.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vi=class{constructor(e){this.snapshot=e,this.type=O.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yi=class{constructor(e){this.snapshot=e,this.type=O.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},On=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=O.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},kt=class{},Nt=class{constructor(e){this.url=e}};var Di=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bt,this.attachRef=null}},Bt=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Di,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pn=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ei(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ei(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=wi(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wi(e,this._root).map(n=>n.value)}};function Ei(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ei(t,n);if(r)return r}return null}function wi(t,e){if(t===e.value)return[e];for(let n of e.children){let r=wi(t,n);if(r.length)return r.unshift(e),r}return[]}var L=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ye(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var kn=class extends Pn{constructor(e,n){super(e),this.snapshot=n,Pi(this,e)}toString(){return this.snapshot.toString()}};function va(t){let e=gl(t),n=new $([new Pe("",{})]),r=new $({}),i=new $({}),s=new $({}),o=new $(""),a=new De(n,r,s,o,i,y,t,e.root);return a.snapshot=e.root,new kn(new L(a,[]),e)}function gl(t){let e={},n={},r={},i="",s=new Mt([],e,r,i,n,y,t,null,{});return new Nn("",new L(s,[]))}var De=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(_(c=>c[xt]))??v(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_(e=>Xe(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_(e=>Xe(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Oi(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),t.params),data:p(p({},e.data),t.data),resolve:p(p(p(p({},t.data),e.data),i?.data),t._resolvedData)}:r={params:p({},t.params),data:p({},t.data),resolve:p(p({},t.data),t._resolvedData??{})},i&&Da(i)&&(r.resolve[xt]=i.title),r}var Mt=class{get title(){return this.data?.[xt]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Nn=class extends Pn{constructor(e,n){super(n),this.url=e,Pi(this,n)}toString(){return ya(this._root)}};function Pi(t,e){e.value._routerState=t,e.children.forEach(n=>Pi(t,n))}function ya(t){let e=t.children.length>0?` { ${t.children.map(ya).join(", ")} } `:"";return`${t.value}${e}`}function ni(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,G(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),G(e.params,n.params)||t.paramsSubject.next(n.params),zc(e.url,n.url)||t.urlSubject.next(n.url),G(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ii(t,e){let n=G(t.params,e.params)&&Kc(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ii(t.parent,e.parent))}function Da(t){return typeof t.title=="string"||t.title===null}var ml=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=y,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=g(Bt),this.location=g(Nr),this.changeDetector=g(vt),this.environmentInjector=g(gt),this.inputBinder=g(Un,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Ci(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=dn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hn]});let t=e;return t})(),Ci=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===De?this.route:e===Bt?this.childContexts:this.parent.get(e,n)}},Un=new S(""),Qo=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=cn([i.queryParams,i.params,i.data]).pipe(j(([o,a,u],c)=>(u=p(p(p({},o),a),u),c===0?v(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Po(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function vl(t,e,n){let r=Ft(t,e._root,n?n._root:void 0);return new kn(r,e)}function Ft(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=yl(t,e,n);return new L(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ft(t,a)),o}}let r=Dl(e.value),i=e.children.map(s=>Ft(t,s));return new L(r,i)}}function yl(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ft(t,r,i);return Ft(t,r)})}function Dl(t){return new De(new $(t.url),new $(t.params),new $(t.queryParams),new $(t.fragment),new $(t.data),t.outlet,t.component,t)}var Ea="ngNavigationCancelingError";function wa(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Qe(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ia(!1,U.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ia(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ea]=!0,n.cancellationCode=e,n}function El(t){return Ca(t)&&Qe(t.url)}function Ca(t){return!!t&&t[Ea]}var wl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=go({type:e,selectors:[["ng-component"]],standalone:!0,features:[To],decls:1,vars:0,template:function(i,s){i&1&&Ao(0,"router-outlet")},dependencies:[ml],encapsulation:2});let t=e;return t})();function Il(t,e){return t.providers&&!t._injector&&(t._injector=Fr(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ki(t){let e=t.children&&t.children.map(ki),n=e?b(p({},t),{children:e}):p({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==y&&(n.component=wl),n}function K(t){return t.outlet||y}function Cl(t,e){let n=t.filter(r=>K(r)===e);return n.push(...t.filter(r=>K(r)!==e)),n}function jt(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _l=(t,e,n,r)=>_(i=>(new _i(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_i=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ni(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ye(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ye(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ye(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ye(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new yi(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mi(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ni(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ni(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=jt(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Mn=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Je=class{constructor(e,n){this.component=e,this.route=n}};function Sl(t,e,n){let r=t._root,i=e?e._root:null;return _t(r,i,n,[r.value])}function Al(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function nt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fo(t)?t:e.get(t):r}function _t(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ye(e);return t.children.forEach(o=>{bl(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Tt(a,n.getContext(o),i)),i}function bl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Tl(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Mn(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?_t(t,e,a?a.children:null,r,i):_t(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Je(a.outlet.component,o))}else o&&Tt(e,a,i),i.canActivateChecks.push(new Mn(r)),s.component?_t(t,null,a?a.children:null,r,i):_t(t,null,n,r,i);return i}function Tl(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ke(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ke(t.url,e.url)||!G(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ii(t,e)||!G(t.queryParams,e.queryParams);case"paramsChange":default:return!Ii(t,e)}}function Tt(t,e,n){let r=Ye(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Tt(o,e.children.getContext(s),n):Tt(o,null,n):Tt(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Je(e.outlet.component,i)):n.canDeactivateChecks.push(new Je(null,i)):n.canDeactivateChecks.push(new Je(null,i))}function Vt(t){return typeof t=="function"}function Rl(t){return typeof t=="boolean"}function Ol(t){return t&&Vt(t.canLoad)}function Pl(t){return t&&Vt(t.canActivate)}function kl(t){return t&&Vt(t.canActivateChild)}function Nl(t){return t&&Vt(t.canDeactivate)}function Ml(t){return t&&Vt(t.canMatch)}function _a(t){return t instanceof so||t?.name==="EmptyError"}var In=Symbol("INITIAL_VALUE");function tt(){return j(t=>cn(t.map(e=>e.pipe(ze(1),lo(In)))).pipe(_(e=>{for(let n of e)if(n!==!0){if(n===In)return In;if(n===!1||n instanceof me)return n}return!0}),Te(e=>e!==In),ze(1)))}function Fl(t,e){return F(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?v(b(p({},n),{guardsResult:!0})):Ll(o,r,i,t).pipe(F(a=>a&&Rl(a)?Ul(r,s,t,e):v(a)),_(a=>b(p({},n),{guardsResult:a})))})}function Ll(t,e,n,r){return M(t).pipe(F(i=>Vl(i.component,i.route,n,e,r)),fe(i=>i!==!0,!0))}function Ul(t,e,n,r){return M(e).pipe(He(i=>oo($l(i.route.parent,r),xl(i.route,r),jl(t,i.path,n),Bl(t,i.route,n))),fe(i=>i!==!0,!0))}function xl(t,e){return t!==null&&e&&e(new vi(t)),v(!0)}function $l(t,e){return t!==null&&e&&e(new gi(t)),v(!0)}function Bl(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return v(!0);let i=r.map(s=>Cr(()=>{let o=jt(e)??n,a=nt(s,o),u=Pl(a)?a.canActivate(e,t):pe(o,()=>a(e,t));return Ee(u).pipe(fe())}));return v(i).pipe(tt())}function jl(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Al(o)).filter(o=>o!==null).map(o=>Cr(()=>{let a=o.guards.map(u=>{let c=jt(o.node)??n,d=nt(u,c),h=kl(d)?d.canActivateChild(r,t):pe(c,()=>d(r,t));return Ee(h).pipe(fe())});return v(a).pipe(tt())}));return v(s).pipe(tt())}function Vl(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let u=jt(e)??i,c=nt(a,u),d=Nl(c)?c.canDeactivate(t,e,n,r):pe(u,()=>c(t,e,n,r));return Ee(d).pipe(fe())});return v(o).pipe(tt())}function Hl(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return v(!0);let s=i.map(o=>{let a=nt(o,t),u=Ol(a)?a.canLoad(e,n):pe(t,()=>a(e,n));return Ee(u)});return v(s).pipe(tt(),Sa(r))}function Sa(t){return to(T(e=>{if(Qe(e))throw wa(t,e)}),_(e=>e===!0))}function zl(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return v(!0);let s=i.map(o=>{let a=nt(o,t),u=Ml(a)?a.canMatch(e,n):pe(t,()=>a(e,n));return Ee(u)});return v(s).pipe(tt(),Sa(r))}var Lt=class{constructor(e){this.segmentGroup=e||null}},Fn=class extends Error{constructor(e){super(),this.urlTree=e}};function Ke(t){return ht(new Lt(t))}function Wl(t){return ht(new A(4e3,!1))}function Gl(t){return ht(Ia(!1,U.GuardRejected))}var Si=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return v(r);if(i.numberOfChildren>1||!i.children[y])return Wl(e.redirectTo);i=i.children[y]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Fn(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new me(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new I(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ai={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ql(t,e,n,r,i){let s=Ni(t,e,n);return s.matched?(r=Il(e,r),zl(r,e,n,i).pipe(_(o=>o===!0?s:p({},Ai)))):v(s)}function Ni(t,e,n){if(e.path==="**")return Kl(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?p({},Ai):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Hc)(n,t,e);if(!i)return p({},Ai);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Kl(t){return{matched:!0,parameters:t.length>0?ia(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ea(t,e,n,r){return n.length>0&&Jl(t,n,r)?{segmentGroup:new I(e,Zl(r,new I(n,t.children))),slicedSegments:[]}:n.length===0&&Xl(t,n,r)?{segmentGroup:new I(t.segments,Yl(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new I(t.segments,t.children),slicedSegments:n}}function Yl(t,e,n,r){let i={};for(let s of n)if(xn(t,e,s)&&!r[K(s)]){let o=new I([],{});i[K(s)]=o}return p(p({},r),i)}function Zl(t,e){let n={};n[y]=e;for(let r of t)if(r.path===""&&K(r)!==y){let i=new I([],{});n[K(r)]=i}return n}function Jl(t,e,n){return n.some(r=>xn(t,e,r)&&K(r)!==y)}function Xl(t,e,n){return n.some(r=>xn(t,e,r))}function xn(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Ql(t,e,n,r){return K(t)!==r&&(r===y||!xn(e,n,t))?!1:Ni(e,t,n).matched}function ed(t,e,n){return e.length===0&&!t.children[n]}var bi=class{};function td(t,e,n,r,i,s,o="emptyOnly"){return new Ti(t,e,n,r,i,o,s).recognize()}var nd=31,Ti=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Si(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=ea(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_(n=>{let r=new Mt([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,{},y,this.rootComponentType,null,{}),i=new L(r,n),s=new Nn("",i),o=ul(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,y).pipe(Ve(r=>{if(r instanceof Fn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lt?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Oi(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(_(s=>s instanceof L?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return M(i).pipe(He(s=>{let o=r.children[s],a=Cl(n,s);return this.processSegmentGroup(e,a,o,s)}),co((s,o)=>(s.push(...o),s)),_r(null),uo(),F(s=>{if(s===null)return Ke(r);let o=Aa(s);return rd(o),v(o)}))}processSegment(e,n,r,i,s,o){return M(n).pipe(He(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ve(u=>{if(u instanceof Lt)return v(null);throw u}))),fe(a=>!!a),Ve(a=>{if(_a(a))return ed(r,i,s)?v(new bi):Ke(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Ql(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ke(i):Ke(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=Ni(n,i,s);if(!a)return Ke(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nd&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(F(f=>this.processSegment(e,r,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=ql(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(j(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(j(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:f}=a,w=new Mt(d,f,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,sd(r),K(r),r.component??r._loadedComponent??null,r,od(r)),{segmentGroup:x,slicedSegments:le}=ea(n,d,h,u);if(le.length===0&&x.hasChildren())return this.processChildren(c,u,x).pipe(_(z=>z===null?null:new L(w,z)));if(u.length===0&&le.length===0)return v(new L(w,[]));let Ae=K(r)===s;return this.processSegment(c,u,x,le,Ae?y:s,!0).pipe(_(z=>new L(w,z instanceof L?[z]:[])))}))):Ke(n)))}getChildConfig(e,n,r){return n.children?v({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?v({routes:n._loadedRoutes,injector:n._loadedInjector}):Hl(e,n,r,this.urlSerializer).pipe(F(i=>i?this.configLoader.loadChildren(e,n).pipe(T(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Gl(n))):v({routes:[],injector:e})}};function rd(t){t.sort((e,n)=>e.value.outlet===y?-1:n.value.outlet===y?1:e.value.outlet.localeCompare(n.value.outlet))}function id(t){let e=t.value.routeConfig;return e&&e.path===""}function Aa(t){let e=[],n=new Set;for(let r of t){if(!id(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Aa(r.children);e.push(new L(r.value,i))}return e.filter(r=>!n.has(r))}function sd(t){return t.data||{}}function od(t){return t.resolve||{}}function ad(t,e,n,r,i,s){return F(o=>td(t,e,n,r,o.extractedUrl,i,s).pipe(_(({state:a,tree:u})=>b(p({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function ud(t,e){return F(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return v(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of ba(u))o.add(c);let a=0;return M(o).pipe(He(u=>s.has(u)?cd(u,r,t,e):(u.data=Oi(u,u.parent,t).resolve,v(void 0))),T(()=>a++),Sr(1),F(u=>a===o.size?v(n):he))})}function ba(t){let e=t.children.map(n=>ba(n)).flat();return[t,...e]}function cd(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Da(i)&&(s[xt]=i.title),ld(s,t,e,r).pipe(_(o=>(t._resolvedData=o,t.data=Oi(t,t.parent,n).resolve,null)))}function ld(t,e,n,r){let i=si(t);if(i.length===0)return v({});let s={};return M(i).pipe(F(o=>dd(t[o],e,n,r).pipe(fe(),T(a=>{s[o]=a}))),Sr(1),ao(s),Ve(o=>_a(o)?he:ht(o)))}function dd(t,e,n,r){let i=jt(e)??r,s=nt(t,i),o=s.resolve?s.resolve(e,n):pe(i,()=>s(e,n));return Ee(o)}function ri(t){return j(e=>{let n=t(e);return n?M(n).pipe(_(()=>e)):v(e)})}var Ta=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===y);return i}getResolvedTitleForRoute(r){return r.data[xt]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(hd),providedIn:"root"});let t=e;return t})(),hd=(()=>{let e=class e extends Ta{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(D(Ko))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ht=new S("",{providedIn:"root",factory:()=>({})}),Ut=new S(""),Mi=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(mn)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return v(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ee(r.loadComponent()).pipe(_(Ra),T(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ln(()=>{this.componentLoaders.delete(r)})),s=new yr(i,()=>new de).pipe(vr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return v({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=fd(i,this.compiler,r,this.onLoadEndListener).pipe(ln(()=>{this.childrenLoaders.delete(i)})),a=new yr(o,()=>new de).pipe(vr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fd(t,e,n,r){return Ee(t.loadChildren()).pipe(_(Ra),F(i=>i instanceof Co||Array.isArray(i)?v(i):M(e.compileModuleAsync(i))),_(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ut,[],{optional:!0,self:!0}).flat()),{routes:o.map(ki),injector:s}}))}function pd(t){return t&&typeof t=="object"&&"default"in t}function Ra(t){return pd(t)?t.default:t}var Fi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(gd),providedIn:"root"});let t=e;return t})(),gd=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oa=new S(""),Pa=new S("");function md(t,e,n){let r=t.get(Pa),i=t.get(k);return t.get(R).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),vd(t))),{onViewTransitionCreated:u}=r;return u&&pe(t,()=>u({transition:a,from:e,to:n})),o})}function vd(t){return new Promise(e=>{Io(e,{injector:t})})}var Li=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de,this.transitionAbortSubject=new de,this.configLoader=g(Mi),this.environmentInjector=g(gt),this.urlSerializer=g($t),this.rootContexts=g(Bt),this.location=g(qe),this.inputBindingEnabled=g(Un,{optional:!0})!==null,this.titleStrategy=g(Ta),this.options=g(Ht,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Fi),this.createViewTransition=g(Oa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>v(void 0),this.rootComponentType=null;let r=s=>this.events.next(new fi(s)),i=s=>this.events.next(new pi(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(b(p(p({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new $({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bt,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Te(o=>o.id!==0),_(o=>b(p({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),j(o=>{let a=!1,u=!1;return v(o).pipe(j(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",U.SupersededByNewNavigation),he;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?b(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new ye(c.id,this.urlSerializer.serialize(c.rawUrl),f,Tn.IgnoredSameUrlNavigation)),c.resolve(null),he}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return v(c).pipe(j(f=>{let w=this.transitions?.getValue();return this.events.next(new et(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),w!==this.transitions?.getValue()?he:Promise.resolve(f)}),ad(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),T(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=b(p({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let w=new Rn(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(w)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:w,source:x,restoredState:le,extras:Ae}=c,z=new et(f,this.urlSerializer.serialize(w),x,le);this.events.next(z);let un=va(this.rootComponentType).snapshot;return this.currentTransition=o=b(p({},c),{targetSnapshot:un,urlAfterRedirects:w,extras:b(p({},Ae),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,v(o)}else{let f="";return this.events.next(new ye(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Tn.IgnoredByUrlHandlingStrategy)),c.resolve(null),he}}),T(c=>{let d=new ci(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),_(c=>(this.currentTransition=o=b(p({},c),{guards:Sl(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Fl(this.environmentInjector,c=>this.events.next(c)),T(c=>{if(o.guardsResult=c.guardsResult,Qe(c.guardsResult))throw wa(this.urlSerializer,c.guardsResult);let d=new li(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Te(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",U.GuardRejected),!1)),ri(c=>{if(c.guards.canActivateChecks.length)return v(c).pipe(T(d=>{let h=new di(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),j(d=>{let h=!1;return v(d).pipe(ud(this.paramsInheritanceStrategy,this.environmentInjector),T({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",U.NoDataFromResolver)}}))}),T(d=>{let h=new hi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),ri(c=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(T(w=>{h.component=w}),_(()=>{})));for(let w of h.children)f.push(...d(w));return f};return cn(d(c.targetSnapshot.root)).pipe(_r(null),ze(1))}),ri(()=>this.afterPreactivation()),j(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?M(h).pipe(_(()=>o)):v(o)}),_(c=>{let d=vl(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=b(p({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),T(()=>{this.events.next(new kt)}),_l(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ze(1),T({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new q(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),ho(this.transitionAbortSubject.pipe(T(c=>{throw c}))),ln(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",U.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ve(c=>{if(u=!0,Ca(c))this.events.next(new ve(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),El(c)?this.events.next(new Nt(c.url)):o.resolve(!1);else{this.events.next(new Pt(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return he}))}))}cancelNavigationTransition(r,i,s){let o=new ve(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yd(t){return t!==bt}var Dd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(Ed),providedIn:"root"});let t=e;return t})(),Ri=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Ed=(()=>{let e=class e extends Ri{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Tr(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ka=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(wd),providedIn:"root"});let t=e;return t})(),wd=(()=>{let e=class e extends ka{constructor(){super(...arguments),this.location=g(qe),this.urlSerializer=g($t),this.options=g(Ht,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Fi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new me,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=va(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof et)this.stateMemento=this.createStateMemento();else if(r instanceof ye)this.rawUrlTree=i.initialUrl;else if(r instanceof Rn){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof kt?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ve&&(r.code===U.GuardRejected||r.code===U.NoDataFromResolver)?this.restoreHistory(i):r instanceof Pt?this.restoreHistory(i,!0):r instanceof q&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=p(p({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=p(p({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Tr(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),St=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(St||{});function Na(t,e){t.events.pipe(Te(n=>n instanceof q||n instanceof ve||n instanceof Pt||n instanceof ye),_(n=>n instanceof q||n instanceof ye?St.COMPLETE:(n instanceof ve?n.code===U.Redirect||n.code===U.SupersededByNewNavigation:!1)?St.REDIRECTING:St.FAILED),Te(n=>n!==St.REDIRECTING),ze(1)).subscribe(()=>{e()})}function Id(t){throw t}var Cd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_d={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ie=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(gn),this.stateManager=g(ka),this.options=g(Ht,{optional:!0})||{},this.pendingTasks=g(_o),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Li),this.urlSerializer=g($t),this.location=g(qe),this.urlHandlingStrategy=g(Fi),this._events=new de,this.errorHandler=this.options.errorHandler||Id,this.navigated=!1,this.routeReuseStrategy=g(Dd),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Ut,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Un,{optional:!0}),this.eventsSubscription=new eo,this.isNgZoneEnabled=g(R)instanceof R&&R.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ve&&i.code!==U.Redirect&&i.code!==U.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof q)this.navigated=!0;else if(i instanceof Nt){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||yd(s.source)};this.scheduleNavigation(a,bt,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Ad(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=p({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ki),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,h=null;switch(u){case"merge":h=p(p({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let w=s?s.snapshot:this.routerState.snapshot.root;f=fa(w)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return pa(f,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Qe(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,bt,null,i)}navigate(r,i={skipLocationChange:!1}){return Sd(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=p({},Cd):i===!1?s=p({},_d):s=i,Qe(r))return Yo(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Yo(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,w)=>{u=f,c=w});let h=this.pendingTasks.add();return Na(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sd(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function Ad(t){return!(t instanceof kt)&&!(t instanceof Nt)}var Iv=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new de,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof q&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Do(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Oe(ie),Oe(De),Rr("tabindex"),Oe(pn),Oe(fn),Oe(re))},e.\u0275dir=dn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&bo("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&So("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",yt],skipLocationChange:[pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",yt],replaceUrl:[pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",yt],routerLink:"routerLink"},standalone:!0,features:[Mr,hn]});let t=e;return t})();var Ln=class{};var bd=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Te(r=>r instanceof q),He(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Fr(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return M(s).pipe(Ir())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=v(null);let o=s.pipe(F(a=>a===null?v(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return M([o,a]).pipe(Ir())}else return o})}};e.\u0275fac=function(i){return new(i||e)(D(ie),D(mn),D(gt),D(Ln),D(Mi))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ma=new S(""),Td=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof et?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof q?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof ye&&r.code===Tn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof On&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new On(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Eo()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Cv(t,...e){return br([{provide:Ut,multi:!0,useValue:t},[],{provide:De,useFactory:Fa,deps:[ie]},{provide:xr,multi:!0,useFactory:La},e.map(n=>n.\u0275providers)])}function Fa(t){return t.routerState.root}function zt(t,e){return{\u0275kind:t,\u0275providers:e}}function La(){let t=g(ge);return e=>{let n=t.get($r);if(e!==n.components[0])return;let r=t.get(ie),i=t.get(Ua);t.get(Ui)===1&&r.initialNavigation(),t.get(xa,null,Ar.Optional)?.setUpPreloading(),t.get(Ma,null,Ar.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ua=new S("",{factory:()=>new de}),Ui=new S("",{providedIn:"root",factory:()=>1});function Rd(){return zt(2,[{provide:Ui,useValue:0},{provide:Ur,multi:!0,deps:[ge],useFactory:e=>{let n=e.get(Lo,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(ie),s=e.get(Ua);Na(i,()=>{r(!0)}),e.get(Li).afterPreactivation=()=>(r(!0),s.closed?v(void 0):s),i.initialNavigation()}))}}])}function Od(){return zt(3,[{provide:Ur,multi:!0,useFactory:()=>{let e=g(ie);return()=>{e.setUpLocationChangeListener()}}},{provide:Ui,useValue:2}])}var xa=new S("");function Pd(t){return zt(0,[{provide:xa,useExisting:bd},{provide:Ln,useExisting:t}])}function kd(){return zt(8,[Qo,{provide:Un,useExisting:Qo}])}function Nd(t){let e=[{provide:Oa,useValue:md},{provide:Pa,useValue:p({skipNextTransition:!!t?.skipInitialTransition},t)}];return zt(9,e)}var ta=new S("ROUTER_FORROOT_GUARD"),Md=[qe,{provide:$t,useClass:Rt},ie,Bt,{provide:De,useFactory:Fa,deps:[ie]},Mi,[]],_v=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Md,[],{provide:Ut,multi:!0,useValue:r},{provide:ta,useFactory:xd,deps:[[ie,new W,new po]]},{provide:Ht,useValue:i||{}},i?.useHash?Ld():Ud(),Fd(),i?.preloadingStrategy?Pd(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?$d(i):[],i?.bindToComponentInputs?kd().\u0275providers:[],i?.enableViewTransitions?Nd().\u0275providers:[],Bd()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ut,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(D(ta,8))},e.\u0275mod=ee({type:e}),e.\u0275inj=Q({});let t=e;return t})();function Fd(){return{provide:Ma,useFactory:()=>{let t=g(Bo),e=g(R),n=g(Ht),r=g(Li),i=g($t);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Td(i,r,t,e,n)}}}function Ld(){return{provide:re,useClass:xo}}function Ud(){return{provide:re,useClass:zr}}function xd(t){return"guarded"}function $d(t){return[t.initialNavigation==="disabled"?Od().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Rd().\u0275providers:[]]}var na=new S("");function Bd(){return[{provide:na,useFactory:La},{provide:xr,multi:!0,useExisting:na}]}var $i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var jd=function(t,e){if(!t)throw Vd(e)},Vd=function(t){return new Error("Firebase Database ("+$i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var Va=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hd=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ha={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(f=64)),r.push(n[d],n[h],n[f],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Va(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hd(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Bi;let f=s<<2|a>>4;if(r.push(f),c!==64){let w=a<<4&240|c>>2;if(r.push(w),h!==64){let x=c<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Bi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zd=function(t){let e=Va(t);return Ha.encodeByteArray(e,!0)},Wt=function(t){return zd(t).replace(/\./g,"")},Gt=function(t){try{return Ha.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bv(t){return za(void 0,t)}function za(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Wd(n)||(t[n]=za(t[n],e[n]));return t}function Wd(t){return t!=="__proto__"}function Gd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qd=()=>Gd().__FIREBASE_DEFAULTS__,Kd=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yd=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Gt(t[1]);return e&&JSON.parse(e)},Vi=()=>{try{return qd()||Kd()||Yd()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hi=t=>{var e,n;return(n=(e=Vi())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tv=t=>{let e=Hi(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zi=()=>{var t;return(t=Vi())===null||t===void 0?void 0:t.config},Wi=t=>{var e;return(e=Vi())===null||e===void 0?void 0:e[`_${t}`]};var $n=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Rv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wt(JSON.stringify(n)),Wt(JSON.stringify(o)),""].join(".")}function P(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P())}function Ga(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qa(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ka(){let t=P();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ov(){return $i.NODE_CLIENT===!0||$i.NODE_ADMIN===!0}function Ya(){try{return typeof indexedDB=="object"}catch{return!1}}function Za(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Zd="FirebaseError",V=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zd,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}},se=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Jd(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new V(i,a,r)}};function Jd(t,e){return t.replace(Xd,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Xd=/\{\$([^}]+)}/g;function $a(t){return JSON.parse(t)}function Pv(t){return JSON.stringify(t)}var Ja=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=$a(Gt(s[0])||""),n=$a(Gt(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var kv=function(t){let e=Ja(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Nv=function(t){let e=Ja(t).claims;return typeof e=="object"&&e.admin===!0};function Mv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fv(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xa(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lv(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function rt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Ba(s)&&Ba(o)){if(!rt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Ba(t){return t!==null&&typeof t=="object"}function qt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function it(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function st(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var ja=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){let f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);let f=(i<<5|i>>>27)+c+u+d+r[h]&4294967295;u=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function Qa(t,e){let n=new ji(t,e);return n.subscribe.bind(n)}var ji=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qd(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xi),i.error===void 0&&(i.error=xi),i.complete===void 0&&(i.complete=xi);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Qd(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xi(){}function Uv(t,e){return`${t} failed: ${e} argument `}var xv=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,jd(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$v=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var Bv=4*60*60*1e3;function oe(t){return t&&t._delegate?t._delegate:t}var Y=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ne="[DEFAULT]";var Gi=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $n;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(th(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ne){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ne){return this.instances.has(e)}getOptions(e=Ne){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eh(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ne){return this.component?this.component.multipleInstances?e:Ne:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function eh(t){return t===Ne?void 0:t}function th(t){return t.instantiationMode==="EAGER"}var Bn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gi(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var nh=[],C=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(C||{}),rh={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},ih=C.INFO,sh={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},oh=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=sh[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ot=class{constructor(e){this.name=e,this._logLevel=ih,this._logHandler=oh,this._userLogHandler=null,nh.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}};var ah=(t,e)=>e.some(n=>t instanceof n),eu,tu;function uh(){return eu||(eu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ch(){return tu||(tu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nu=new WeakMap,Ki=new WeakMap,ru=new WeakMap,qi=new WeakMap,Zi=new WeakMap;function lh(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Z(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nu.set(n,t)}).catch(()=>{}),Zi.set(e,t),e}function dh(t){if(Ki.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ki.set(t,e)}var Yi={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ki.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ru.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Z(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iu(t){Yi=t(Yi)}function hh(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jn(this),e,...n);return ru.set(r,e.sort?e.sort():[e]),Z(r)}:ch().includes(t)?function(...e){return t.apply(jn(this),e),Z(nu.get(this))}:function(...e){return Z(t.apply(jn(this),e))}}function fh(t){return typeof t=="function"?hh(t):(t instanceof IDBTransaction&&dh(t),ah(t,uh())?new Proxy(t,Yi):t)}function Z(t){if(t instanceof IDBRequest)return lh(t);if(qi.has(t))return qi.get(t);let e=fh(t);return e!==t&&(qi.set(t,e),Zi.set(e,t)),e}var jn=t=>Zi.get(t);function ou(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Z(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Z(o.result),u.oldVersion,u.newVersion,Z(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var ph=["get","getKey","getAll","getAllKeys","count"],gh=["put","add","delete","clear"],Ji=new Map;function su(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ji.get(e))return Ji.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=gh.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ph.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Ji.set(e,s),s}iu(t=>b(p({},t),{get:(e,n,r)=>su(e,n)||t.get(e,n,r),has:(e,n)=>!!su(e,n)||t.has(e,n)}));var Qi=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mh(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function mh(t){let e=t.getComponent();return e?.type==="VERSION"}var es="@firebase/app",au="0.10.2";var Me=new ot("@firebase/app"),vh="@firebase/app-compat",yh="@firebase/analytics-compat",Dh="@firebase/analytics",Eh="@firebase/app-check-compat",wh="@firebase/app-check",Ih="@firebase/auth",Ch="@firebase/auth-compat",_h="@firebase/database",Sh="@firebase/database-compat",Ah="@firebase/functions",bh="@firebase/functions-compat",Th="@firebase/installations",Rh="@firebase/installations-compat",Oh="@firebase/messaging",Ph="@firebase/messaging-compat",kh="@firebase/performance",Nh="@firebase/performance-compat",Mh="@firebase/remote-config",Fh="@firebase/remote-config-compat",Lh="@firebase/storage",Uh="@firebase/storage-compat",xh="@firebase/firestore",$h="@firebase/firestore-compat",Bh="firebase",jh="10.11.1";var ts="[DEFAULT]",Vh={[es]:"fire-core",[vh]:"fire-core-compat",[Dh]:"fire-analytics",[yh]:"fire-analytics-compat",[wh]:"fire-app-check",[Eh]:"fire-app-check-compat",[Ih]:"fire-auth",[Ch]:"fire-auth-compat",[_h]:"fire-rtdb",[Sh]:"fire-rtdb-compat",[Ah]:"fire-fn",[bh]:"fire-fn-compat",[Th]:"fire-iid",[Rh]:"fire-iid-compat",[Oh]:"fire-fcm",[Ph]:"fire-fcm-compat",[kh]:"fire-perf",[Nh]:"fire-perf-compat",[Mh]:"fire-rc",[Fh]:"fire-rc-compat",[Lh]:"fire-gcs",[Uh]:"fire-gcs-compat",[xh]:"fire-fst",[$h]:"fire-fst-compat","fire-js":"fire-js",[Bh]:"fire-js-all"};var Kt=new Map,Hh=new Map,ns=new Map;function uu(t,e){try{t.container.addComponent(e)}catch(n){Me.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function at(t){let e=t.name;if(ns.has(e))return Me.debug(`There were multiple attempts to register component ${e}.`),!1;ns.set(e,t);for(let n of Kt.values())uu(n,t);for(let n of Hh.values())uu(n,t);return!0}function os(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function H(t){return t.settings!==void 0}var zh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},we=new se("app","Firebase",zh);var rs=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Y("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw we.create("app-deleted",{appName:this._name})}};var ut=jh;function as(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ts,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw we.create("bad-app-name",{appName:String(i)});if(n||(n=zi()),!n)throw we.create("no-options");let s=Kt.get(i);if(s){if(rt(n,s.options)&&rt(r,s.config))return s;throw we.create("duplicate-app",{appName:i})}let o=new Bn(i);for(let u of ns.values())o.addComponent(u);let a=new rs(n,r,o);return Kt.set(i,a),a}function Vn(t=ts){let e=Kt.get(t);if(!e&&t===ts&&zi())return as();if(!e)throw we.create("no-app",{appName:t});return e}function Hn(){return Array.from(Kt.values())}function N(t,e,n){var r;let i=(r=Vh[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Me.warn(a.join(" "));return}at(new Y(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Wh="firebase-heartbeat-database",Gh=1,Yt="firebase-heartbeat-store",Xi=null;function hu(){return Xi||(Xi=ou(Wh,Gh,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yt)}catch(n){console.warn(n)}}}}).catch(t=>{throw we.create("idb-open",{originalErrorMessage:t.message})})),Xi}function qh(t){return l(this,null,function*(){try{let n=(yield hu()).transaction(Yt),r=yield n.objectStore(Yt).get(fu(t));return yield n.done,r}catch(e){if(e instanceof V)Me.warn(e.message);else{let n=we.create("idb-get",{originalErrorMessage:e?.message});Me.warn(n.message)}}})}function cu(t,e){return l(this,null,function*(){try{let r=(yield hu()).transaction(Yt,"readwrite");yield r.objectStore(Yt).put(e,fu(t)),yield r.done}catch(n){if(n instanceof V)Me.warn(n.message);else{let r=we.create("idb-set",{originalErrorMessage:n?.message});Me.warn(r.message)}}})}function fu(t){return`${t.name}!${t.options.appId}`}var Kh=1024,Yh=30*24*60*60*1e3,is=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ss(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Yh}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lu(),{heartbeatsToSend:r,unsentEntries:i}=Zh(this._heartbeatsCache.heartbeats),s=Wt(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function lu(){return new Date().toISOString().substring(0,10)}function Zh(t,e=Kh){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),du(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),du(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ss=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Ya()?Za().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield qh(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function du(t){return Wt(JSON.stringify({version:2,heartbeats:t})).length}function Jh(t){at(new Y("platform-logger",e=>new Qi(e),"PRIVATE")),at(new Y("heartbeat",e=>new is(e),"PRIVATE")),N(es,au,t),N(es,au,"esm2017"),N("fire-js","")}Jh("");var Xh="firebase",Qh="10.11.1";N(Xh,Qh,"app");var Zt=new mt("ANGULARFIRE2_VERSION");function pu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var cs=(t,e)=>{let n=e?[e]:Hn(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},zn=class{constructor(){return cs(ef)}},ef="app-check";function ct(){}var Wn=class{zone;delegate;constructor(e,n=ro){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},us=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ct,{},ct,ct)),n.pipe(T({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Wn(Zone.current)),this.insideAngular=n.run(()=>new Wn(Zone.current,no)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(D(R))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qn(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function tf(t){return qn().ngZone.runOutsideAngular(()=>t())}function Fe(t){return qn().ngZone.run(()=>t())}function nf(t){return rf(qn())(t)}function rf(t){return function(n){return n=n.lift(new us(t.ngZone)),n.pipe(wr(t.outsideAngular),Er(t.insideAngular))}}var sf=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fe(()=>t.apply(void 0,r))},Le=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Fe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ct,{},ct,ct))),r[s]=sf(r[s],n));let i=tf(()=>t.apply(this,r));if(!e)if(i instanceof mr){let s=qn();return i.pipe(wr(s.outsideAngular),Er(s.insideAngular))}else return Fe(()=>i);return i instanceof mr?i.pipe(nf):i instanceof Promise?Fe(()=>new Promise((s,o)=>i.then(a=>Fe(()=>s(a)),a=>Fe(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Fe(()=>i)};var Ue=class{constructor(e){return e}},Jt=class{constructor(){return Hn()}};function of(t){return t&&t.length===1?t[0]:new Ue(Vn())}var ls=new S("angularfire2._apps"),af={provide:Ue,useFactory:of,deps:[[new W,ls]]},uf={provide:Jt,deps:[[new W,ls]]};function cf(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ue(r)}}var lf=(()=>{class t{constructor(n){N("angularfire",Zt.full,"core"),N("angularfire",Zt.full,"app"),N("angular",Ro.full,n.toString())}static \u0275fac=function(r){return new(r||t)(D(te))};static \u0275mod=ee({type:t});static \u0275inj=Q({providers:[af,uf]})}return t})();function _y(t,...e){return{ngModule:lf,providers:[{provide:ls,useFactory:cf(t),multi:!0,deps:[R,ge,Gn,...e]}]}}var Sy=Le(as,!0);function Pu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ku=Pu,Nu=new se("auth","Firebase",Pu());var Qn=new ot("@firebase/auth");function df(t,...e){Qn.logLevel<=C.WARN&&Qn.warn(`Auth (${ut}): ${t}`,...e)}function Yn(t,...e){Qn.logLevel<=C.ERROR&&Qn.error(`Auth (${ut}): ${t}`,...e)}function X(t,...e){throw Ns(t,...e)}function xe(t,...e){return Ns(t,...e)}function Mu(t,e,n){let r=Object.assign(Object.assign({},ku()),{[e]:n});return new se("auth","Firebase",r).create(e,{appName:t.name})}function ce(t){return Mu(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ns(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Nu.create(t,...e)}function m(t,e,...n){if(!t)throw Ns(e,...n)}function ae(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yn(e),new Error(e)}function Ce(t,e){t||ae(e)}function ps(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hf(){return gu()==="http:"||gu()==="https:"}function gu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ff(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hf()||Ga()||"connection"in navigator)?navigator.onLine:!0}function pf(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var $e=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ce(n>e,"Short delay should be less than long delay!"),this.isMobile=Wa()||qa()}get(){return ff()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ms(t,e){Ce(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var er=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mf=new $e(3e4,6e4);function _e(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Se(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){return Fu(t,i,()=>l(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let h=qt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),er.fetch()(Lu(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},c))}))})}function Fu(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},gf),e);try{let i=new gs(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Kn(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kn(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Kn(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Kn(t,"user-disabled",o);let d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Mu(t,d,c);X(t,d)}}catch(i){if(i instanceof V)throw i;X(t,"network-request-failed",{message:String(i)})}})}function on(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){let c=yield Se(t,e,n,r,i);return"mfaPendingCredential"in c&&X(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function Lu(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ms(t.config,i):`${t.config.apiScheme}://${i}`}function vf(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gs=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xe(this.auth,"network-request-failed")),mf.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Kn(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=xe(t,e,r);return i.customData._tokenResponse=n,i}function mu(t){return t!==void 0&&t.enterprise!==void 0}var ms=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vf(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function yf(t,e){return l(this,null,function*(){return Se(t,"GET","/v2/recaptchaConfig",_e(t,e))})}function Df(t,e){return l(this,null,function*(){return Se(t,"POST","/v1/accounts:delete",e)})}function Uu(t,e){return l(this,null,function*(){return Se(t,"POST","/v1/accounts:lookup",e)})}function Xt(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Fs(t,e=!1){return l(this,null,function*(){let n=oe(t),r=yield n.getIdToken(e),i=Ls(r);m(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Xt(ds(i.auth_time)),issuedAtTime:Xt(ds(i.iat)),expirationTime:Xt(ds(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ds(t){return Number(t)*1e3}function Ls(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yn("JWT malformed, contained fewer than 3 sections"),null;try{let i=Gt(n);return i?JSON.parse(i):(Yn("Failed to decode base64 JWT payload"),null)}catch(i){return Yn("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vu(t){let e=Ls(t);return m(e,"internal-error"),m(typeof e.exp<"u","internal-error"),m(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function en(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof V&&Ef(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Ef({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var vs=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tn=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function tr(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield en(t,Uu(n,{idToken:r}));m(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xu(s.providerUserInfo):[],a=wf(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Us(t){return l(this,null,function*(){let e=oe(t);yield tr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function wf(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xu(t){return t.map(e=>{var{providerId:n}=e,r=Dr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function If(t,e){return l(this,null,function*(){let n=yield Fu(t,{},()=>l(this,null,function*(){let r=qt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Lu(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",er.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Cf(t,e){return l(this,null,function*(){return Se(t,"POST","/v2/accounts:revokeToken",_e(t,e))})}var Qt=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(typeof e.idToken<"u","internal-error"),m(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){m(e.length!==0,"internal-error");let n=vu(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return l(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(m(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield If(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(m(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(m(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(m(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ae("not implemented")}};function Ie(t,e){m(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var lt=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Dr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tn(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield en(this,this.stsTokenManager.getToken(this.auth,e));return m(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Fs(this,e)}reload(){return Us(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield tr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(H(this.auth.app))return Promise.reject(ce(this.auth));let e=yield this.getIdToken();return yield en(this,Df(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,le=(a=n.tenantId)!==null&&a!==void 0?a:void 0,Ae=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,z=(c=n.createdAt)!==null&&c!==void 0?c:void 0,un=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:fr,emailVerified:Js,isAnonymous:Xs,providerData:pr,stsTokenManager:Qs}=n;m(fr&&Qs,e,"internal-error");let cc=Qt.fromJSON(this.name,Qs);m(typeof fr=="string",e,"internal-error"),Ie(h,e.name),Ie(f,e.name),m(typeof Js=="boolean",e,"internal-error"),m(typeof Xs=="boolean",e,"internal-error"),Ie(w,e.name),Ie(x,e.name),Ie(le,e.name),Ie(Ae,e.name),Ie(z,e.name),Ie(un,e.name);let gr=new t({uid:fr,auth:e,email:f,emailVerified:Js,displayName:h,isAnonymous:Xs,photoURL:x,phoneNumber:w,tenantId:le,stsTokenManager:cc,createdAt:z,lastLoginAt:un});return pr&&Array.isArray(pr)&&(gr.providerData=pr.map(lc=>Object.assign({},lc))),Ae&&(gr._redirectEventId=Ae),gr}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new Qt;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tr(s),s})}static _fromGetAccountInfoResponse(e,n,r){return l(this,null,function*(){let i=n.users[0];m(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?xu(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Qt;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,c),u})}};var yu=new Map;function ue(t){Ce(t instanceof Function,"Expected a class definition");let e=yu.get(t);return e?(Ce(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yu.set(t,e),e)}var _f=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ys=_f;function Zn(t,e,n){return`firebase:${t}:${e}:${n}`}var nr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Zn(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zn("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?lt._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(ue(ys),e,r);let i=(yield Promise.all(n.map(c=>l(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||ue(ys),o=Zn(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let h=lt._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>l(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function Du(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ju(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($u(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hu(e))return"Blackberry";if(zu(e))return"Webos";if(xs(e))return"Safari";if((e.includes("chrome/")||Bu(e))&&!e.includes("edge/"))return"Chrome";if(Vu(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function $u(t=P()){return/firefox\//i.test(t)}function xs(t=P()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bu(t=P()){return/crios\//i.test(t)}function ju(t=P()){return/iemobile/i.test(t)}function Vu(t=P()){return/android/i.test(t)}function Hu(t=P()){return/blackberry/i.test(t)}function zu(t=P()){return/webos/i.test(t)}function lr(t=P()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sf(t=P()){var e;return lr(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Af(){return Ka()&&document.documentMode===10}function Wu(t=P()){return lr(t)||Vu(t)||zu(t)||Hu(t)||/windows phone/i.test(t)||ju(t)}function bf(){try{return!!(window&&window!==window.top)}catch{return!1}}function Gu(t,e=[]){let n;switch(t){case"Browser":n=Du(P());break;case"Worker":n=`${Du(P())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ut}/${r}`}var Ds=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Tf(n){return l(this,arguments,function*(t,e={}){return Se(t,"GET","/v2/passwordPolicy",_e(t,e))})}var Rf=6,Es=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Rf,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ws=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.beforeStateQueue=new Ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ue(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield nr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let n=yield Uu(this,{idToken:e}),r=yield lt._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;if(H(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return m(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield tr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pf()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(H(this.app))return Promise.reject(ce(this));let n=e?oe(e):null;return n&&m(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return H(this.app)?Promise.reject(ce(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return H(this.app)?Promise.reject(ce(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(ue(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Tf(this),n=new Es(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new se("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Cf(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ue(e)||this._popupRedirectResolver;m(n,this,"argument-error"),this.redirectPersistenceManager=yield nr.create(this,[ue(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&df(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function je(t){return oe(t)}var rr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qa(n=>this.observer=n)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dr={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Of(t){dr=t}function qu(t){return dr.loadJS(t)}function Pf(){return dr.recaptchaEnterpriseScript}function kf(){return dr.gapiScript}function Ku(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Nf="recaptcha-enterprise",Mf="NO_RECAPTCHA",Is=class{constructor(e){this.type=Nf,this.auth=je(e)}verify(e="verify",n=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(this,null,function*(){yf(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new ms(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;mu(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Mf)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&mu(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Pf();u.length!==0&&(u+=a),qu(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function Eu(t,e,n,r=!1){return l(this,null,function*(){let i=new Is(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Cs(t,e,n,r){return l(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Eu(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>l(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Eu(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function $s(t,e){let n=os(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(rt(s,e??{}))return i;X(i,"already-initialized")}return n.initialize({options:e})}function Ff(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ue);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Bs(t,e,n){let r=je(t);m(r._canInitEmulator,r,"emulator-config-failed"),m(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Yu(e),{host:o,port:a}=Lf(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Uf()}function Yu(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lf(t){let e=Yu(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:wu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:wu(o)}}}function wu(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Uf(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var nn=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ae("not implemented")}_getIdTokenResponse(e){return ae("not implemented")}_linkToIdToken(e,n){return ae("not implemented")}_getReauthenticationResolver(e){return ae("not implemented")}};function xf(t,e){return l(this,null,function*(){return Se(t,"POST","/v1/accounts:signUp",e)})}function $f(t,e){return l(this,null,function*(){return on(t,"POST","/v1/accounts:signInWithPassword",_e(t,e))})}function Bf(t,e){return l(this,null,function*(){return on(t,"POST","/v1/accounts:signInWithEmailLink",_e(t,e))})}function jf(t,e){return l(this,null,function*(){return on(t,"POST","/v1/accounts:signInWithEmailLink",_e(t,e))})}var rn=class t extends nn{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cs(e,n,"signInWithPassword",$f);case"emailLink":return Bf(e,{email:this._email,oobCode:this._password});default:X(e,"internal-error")}})}_linkToIdToken(e,n){return l(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cs(e,r,"signUpPassword",xf);case"emailLink":return jf(e,{idToken:n,email:this._email,oobCode:this._password});default:X(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function hs(t,e){return l(this,null,function*(){return on(t,"POST","/v1/accounts:signInWithIdp",_e(t,e))})}function Vf(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hf(t){let e=it(st(t)).link,n=e?it(st(e)).deep_link_id:null,r=it(st(t)).deep_link_id;return(r?it(st(r)).link:null)||r||n||e||t}var ir=class t{constructor(e){var n,r,i,s,o,a;let u=it(st(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,h=Vf((i=u.mode)!==null&&i!==void 0?i:null);m(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Hf(e);try{return new t(n)}catch{return null}}};var Zu=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return rn._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ir.parseLink(r);return m(i,"argument-error"),rn._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sr=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _s=class extends sr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function zf(t,e){return l(this,null,function*(){return on(t,"POST","/v1/accounts:signUp",_e(t,e))})}var dt=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield lt._fromIdTokenResponse(e,r,i),o=Iu(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Iu(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Iu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ss=class t extends V{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Ju(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ss._fromErrorAndOperation(t,s,e,r):s})}function Wf(t,e,n=!1){return l(this,null,function*(){let r=yield en(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return dt._forOperation(t,"link",r)})}function Gf(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t;if(H(r.app))return Promise.reject(ce(r));let i="reauthenticate";try{let s=yield en(t,Ju(r,i,e,t),n);m(s.idToken,r,"internal-error");let o=Ls(s.idToken);m(o,r,"internal-error");let{sub:a}=o;return m(t.uid===a,r,"user-mismatch"),dt._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&X(r,"user-mismatch"),s}})}function Xu(t,e,n=!1){return l(this,null,function*(){if(H(t.app))return Promise.reject(ce(t));let r="signIn",i=yield Ju(t,r,e),s=yield dt._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function js(t,e){return l(this,null,function*(){return Xu(je(t),e)})}function Qu(t){return l(this,null,function*(){let e=je(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Vs(t,e,n){return l(this,null,function*(){if(H(t.app))return Promise.reject(ce(t));let r=je(t),o=yield Cs(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zf).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Qu(t),u}),a=yield dt._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Hs(t,e,n){return H(t.app)?Promise.reject(ce(t)):js(oe(t),Zu.credential(e,n)).catch(r=>l(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Qu(t),r}))}function zs(t,e,n,r){return oe(t).onIdTokenChanged(e,n,r)}function Ws(t,e,n){return oe(t).beforeAuthStateChanged(e,n)}function Gs(t){return oe(t).signOut()}var or="__sak";var ar=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(or,"1"),this.storage.removeItem(or),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function qf(){let t=P();return xs(t)||lr(t)}var Kf=1e3,Yf=10,Zf=(()=>{class t extends ar{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qf()&&bf(),this.fallbackToPolling=Wu(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Af()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Yf):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Kf)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield be(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield be(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield be(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ec=Zf;var Jf=(()=>{class t extends ar{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),qs=Jf;function Xf(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Qf=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),c=yield Xf(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function tc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var As=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let c=tc("",20);i.port1.start();let d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function J(){return window}function ep(t){J().location.href=t}function nc(){return typeof J().WorkerGlobalScope<"u"&&typeof J().importScripts=="function"}function tp(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function np(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rp(){return nc()?self:null}var rc="firebaseLocalStorageDb",ip=1,ur="firebaseLocalStorage",ic="fbase_key",Be=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hr(t,e){return t.transaction([ur],e?"readwrite":"readonly").objectStore(ur)}function sp(){let t=indexedDB.deleteDatabase(rc);return new Be(t).toPromise()}function bs(){let t=indexedDB.open(rc,ip);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ur,{keyPath:ic})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ur)?e(r):(r.close(),yield sp(),e(yield bs()))}))})}function Cu(t,e,n){return l(this,null,function*(){let r=hr(t,!0).put({[ic]:e,value:n});return new Be(r).toPromise()})}function op(t,e){return l(this,null,function*(){let n=hr(t,!1).get(e),r=yield new Be(n).toPromise();return r===void 0?null:r.value})}function _u(t,e){let n=hr(t,!0).delete(e);return new Be(n).toPromise()}var ap=800,up=3,cp=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield bs(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>up)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return nc()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Qf._getInstance(rp()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield tp(),!this.activeServiceWorker)return;this.sender=new As(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||np()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bs();return yield Cu(n,or,"1"),yield _u(n,or),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Cu(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>op(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>_u(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=hr(s,!1).getAll();return new Be(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),ap)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),sc=cp;var Ny=Ku("rcb"),My=new $e(3e4,6e4);function lp(t,e){return e?ue(e):(m(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var sn=class extends nn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function dp(t){return Xu(t.auth,new sn(t),t.bypassAuthState)}function hp(t){let{auth:e,user:n}=t;return m(n,e,"internal-error"),Gf(n,new sn(t),t.bypassAuthState)}function fp(t){return l(this,null,function*(){let{auth:e,user:n}=t;return m(n,e,"internal-error"),Wf(n,new sn(t),t.bypassAuthState)})}var Ts=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dp;case"linkViaPopup":case"linkViaRedirect":return fp;case"reauthViaPopup":case"reauthViaRedirect":return hp;default:X(this.auth,"internal-error")}}resolve(e){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Fy=new $e(2e3,1e4);var pp="pendingRedirect",Jn=new Map,Rs=class t extends Ts{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=Jn.get(this.auth._key());if(!e){try{let r=(yield gp(this.resolver,this.auth))?yield be(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jn.set(this.auth._key(),e)}return this.bypassAuthState||Jn.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return be(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,be(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function gp(t,e){return l(this,null,function*(){let n=yp(e),r=vp(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function mp(t,e){Jn.set(t._key(),e)}function vp(t){return ue(t._redirectPersistence)}function yp(t){return Zn(pp,t.config.apiKey,t.name)}function Dp(t,e,n=!1){return l(this,null,function*(){if(H(t.app))return Promise.reject(ce(t));let r=je(t),i=lp(r,e),o=yield new Rs(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Ep=10*60*1e3,Os=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wp(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oc(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xe(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ep&&this.cachedEventUids.clear(),this.cachedEventUids.has(Su(e))}saveEventToCache(e){this.cachedEventUids.add(Su(e)),this.lastProcessedEventTime=Date.now()}};function Su(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oc({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wp(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oc(t);default:return!1}}function Ip(n){return l(this,arguments,function*(t,e={}){return Se(t,"GET","/v1/projects",e)})}var Cp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_p=/^https?/;function Sp(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Ip(t);for(let n of e)try{if(Ap(n))return}catch{}X(t,"unauthorized-domain")})}function Ap(t){let e=ps(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_p.test(n))return!1;if(Cp.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var bp=new $e(3e4,6e4);function Au(){let t=J().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Tp(t){return new Promise((e,n)=>{var r,i,s;function o(){Au(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Au(),n(xe(t,"network-request-failed"))},timeout:bp.get()})}if(!((i=(r=J().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=J().gapi)===null||s===void 0)&&s.load)o();else{let a=Ku("iframefcb");return J()[a]=()=>{gapi.load?o():n(xe(t,"network-request-failed"))},qu(`${kf()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Xn=null,e})}var Xn=null;function Rp(t){return Xn=Xn||Tp(t),Xn}var Op=new $e(5e3,15e3),Pp="__/auth/iframe",kp="emulator/auth/iframe",Np={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fp(t){let e=t.config;m(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ms(e,kp):`https://${t.config.authDomain}/${Pp}`,r={apiKey:e.apiKey,appName:t.name,v:ut},i=Mp.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qt(r).slice(1)}`}function Lp(t){return l(this,null,function*(){let e=yield Rp(t),n=J().gapi;return m(n,t,"internal-error"),e.open({where:document.body,url:Fp(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Np,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=xe(t,"network-request-failed"),a=J().setTimeout(()=>{s(o)},Op.get());function u(){J().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Up={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xp=500,$p=600,Bp="_blank",jp="http://localhost",cr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Vp(t,e,n,r=xp,i=$p){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Up),{width:r.toString(),height:i.toString(),top:s,left:o}),c=P().toLowerCase();n&&(a=Bu(c)?Bp:n),$u(c)&&(e=e||jp,u.scrollbars="yes");let d=Object.entries(u).reduce((f,[w,x])=>`${f}${w}=${x},`,"");if(Sf(c)&&a!=="_self")return Hp(e||"",a),new cr(null);let h=window.open(e||"",a,d);m(h,t,"popup-blocked");try{h.focus()}catch{}return new cr(h)}function Hp(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zp="__/auth/handler",Wp="emulator/auth/handler",Gp=encodeURIComponent("fac");function bu(t,e,n,r,i,s){return l(this,null,function*(){m(t.config.authDomain,t,"auth-domain-config-required"),m(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ut,eventId:i};if(e instanceof sr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xa(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof _s){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let u=yield t._getAppCheckToken(),c=u?`#${Gp}=${encodeURIComponent(u)}`:"";return`${qp(t)}?${qt(a).slice(1)}${c}`})}function qp({config:t}){return t.emulator?Ms(t,Wp):`https://${t.authDomain}/${zp}`}var fs="webStorageSupport",Ps=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=Dp,this._overrideRedirectResult=mp}_openPopup(e,n,r,i){return l(this,null,function*(){var s;Ce((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield bu(e,n,r,ps(),i);return Vp(e,o,tc())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield bu(e,n,r,ps(),i);return ep(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ce(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield Lp(e),r=new Os(e);return n.register("authEvent",i=>(m(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fs,{type:fs},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[fs];o!==void 0&&n(!!o),X(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sp(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wu()||xs()||lr()}},ac=Ps;var Tu="@firebase/auth",Ru="1.7.2";var ks=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Kp(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yp(t){at(new Y("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;m(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gu(t)},c=new ws(r,i,s,u);return Ff(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),at(new Y("auth-internal",e=>{let n=je(e.getProvider("auth").getImmediate());return(r=>new ks(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),N(Tu,Ru,Kp(t)),N(Tu,Ru,"esm2017")}var Zp=5*60,Jp=Wi("authIdTokenMaxAge")||Zp,Ou=null,Xp=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jp)return;let i=n?.token;Ou!==i&&(Ou=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ks(t=Vn()){let e=os(t,"auth");if(e.isInitialized())return e.getImmediate();let n=$s(t,{popupRedirectResolver:ac,persistence:[sc,ec,qs]}),r=Wi("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Xp(s.toString());Ws(n,o,()=>o(n.currentUser)),zs(n,a=>o(a))}}let i=Hi("auth");return i&&Bs(n,`http://${i}`),n}function Qp(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Of({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=xe("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Qp().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yp("Browser");var uc="auth",an=class{constructor(e){return e}},Ys=class{constructor(){return cs(uc)}};var Zs=new S("angularfire2.auth-instances");function Hg(t,e){let n=pu(uc,t,e);return n&&new an(n)}function zg(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new an(r)}}var Wg={provide:Ys,deps:[[new W,Zs]]},Gg={provide:an,useFactory:Hg,deps:[[new W,Zs],Ue]},qg=(()=>{class t{constructor(){N("angularfire",Zt.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ee({type:t});static \u0275inj=Q({providers:[Gg,Wg]})}return t})();function yD(t,...e){return{ngModule:qg,providers:[{provide:Zs,useFactory:zg(t),multi:!0,deps:[R,ge,Gn,Jt,[new W,zn],...e]}]}}var DD=Le(Vs,!0);var ED=Le(Ks,!0);var wD=Le(Hs,!0);var ID=Le(Gs,!0);export{Ge as a,vc as b,ev as c,ml as d,ie as e,Iv as f,Cv as g,_v as h,jd as i,Vd as j,Ha as k,zd as l,bv as m,Tv as n,$n as o,Rv as p,Wa as q,qa as r,Ov as s,V as t,$a as u,Pv as v,kv as w,Nv as x,Mv as y,Fv as z,Xa as A,Lv as B,qt as C,ja as D,Uv as E,xv as F,$v as G,oe as H,Y as I,C as J,ot as K,at as L,os as M,ut as N,Vn as O,N as P,Zt as Q,pu as R,cs as S,zn as T,Gn as U,Le as V,Ue as W,Jt as X,_y as Y,Sy as Z,an as _,Ys as $,yD as aa,DD as ba,ED as ca,wD as da,ID as ea};
